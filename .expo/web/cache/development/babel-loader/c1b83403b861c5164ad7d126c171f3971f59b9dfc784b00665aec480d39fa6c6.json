{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport axios from \"axios\";\nimport { styles } from \"./style\";\nimport PrimaryButton from \"../../components/PrimaryButton\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport Spinner from \"react-native-loading-spinner-overlay\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function InputEmail() {\n  var _useNavigation = useNavigation(),\n    navigate = _useNavigation.navigate;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var handleFetchData = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        var response = yield axios.post(\"https://server-side-quiz-react-native.vercel.app/user/otp\", {\n          email: email\n        });\n        console.log(\"Response from backend:\", response.data);\n        yield AsyncStorage.setItem(\"email\", email);\n        navigate(\"inputOtp\");\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleFetchData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Spinner, {\n      visible: loading,\n      textContent: \"Loading...\",\n      textStyle: styles.spinnerText\n    }), _jsx(Image, {\n      style: {\n        width: 300,\n        height: 300\n      },\n      source: require(\"../../assets/smarta-icon.png\")\n    }), _jsxs(View, {\n      style: styles.content,\n      children: [_jsx(View, {\n        children: _jsx(Text, {\n          style: styles.title,\n          children: \"Lupa Kata Sandi\"\n        })\n      }), _jsx(View, {\n        children: _jsx(Text, {\n          style: styles.subTitle,\n          children: \"Masukkan alamat email kamu untuk membuat kata sandi baru\"\n        })\n      }), _jsx(View, {\n        style: styles.inputContainer,\n        children: _jsx(TextInput, {\n          style: styles.input,\n          placeholder: \"Masukkan alamat email\",\n          value: email,\n          onChangeText: function onChangeText(text) {\n            return setEmail(text);\n          }\n        })\n      })]\n    }), _jsx(PrimaryButton, {\n      title: \"Lanjutkan\",\n      onPress: handleFetchData\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","View","Text","Image","TextInput","axios","styles","PrimaryButton","useNavigation","Spinner","AsyncStorage","jsx","_jsx","jsxs","_jsxs","InputEmail","_useNavigation","navigate","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","loading","setLoading","handleFetchData","_ref","_asyncToGenerator","response","post","console","log","data","setItem","error","apply","arguments","style","container","children","visible","textContent","textStyle","spinnerText","width","height","source","require","content","title","subTitle","inputContainer","input","placeholder","value","onChangeText","text","onPress"],"sources":["C:/quizApp-ReactNative/src/screens/InputEmail/index.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { View, Text, StyleSheet, Image, TextInput } from \"react-native\";\r\nimport axios from \"axios\"; // Import Axios\r\nimport { styles } from \"./style\";\r\nimport PrimaryButton from \"../../components/PrimaryButton\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport Spinner from \"react-native-loading-spinner-overlay\"; // Import Spinner\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\"; \r\n\r\nexport function InputEmail() {\r\n  const { navigate } = useNavigation();\r\n  const [email, setEmail] = useState(\"\"); // State to store the email input\r\n  const [loading, setLoading] = useState(false); // State to handle loading\r\n\r\n  const handleFetchData = async () => {\r\n    try {\r\n      setLoading(true); // Show loading spinner\r\n      const response = await axios.post(\r\n        \"https://server-side-quiz-react-native.vercel.app/user/otp\",\r\n        { email }\r\n      );\r\n      console.log(\"Response from backend:\", response.data);\r\n      // Set email in AsyncStorage\r\n      await AsyncStorage.setItem(\"email\", email);\r\n      // Navigate to the next screen after receiving a successful response\r\n      navigate(\"inputOtp\");\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n      // Handle error as needed\r\n    } finally {\r\n      setLoading(false); // Hide loading spinner\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Spinner\r\n        visible={loading}\r\n        textContent={\"Loading...\"}\r\n        textStyle={styles.spinnerText}\r\n      />\r\n      <Image\r\n        style={{ width: 300, height: 300 }}\r\n        source={require(\"../../assets/smarta-icon.png\")}\r\n      />\r\n      <View style={styles.content}>\r\n        <View>\r\n          <Text style={styles.title}>Lupa Kata Sandi</Text>\r\n        </View>\r\n        <View>\r\n          <Text style={styles.subTitle}>\r\n            Masukkan alamat email kamu untuk membuat kata sandi baru\r\n          </Text>\r\n        </View>\r\n        <View style={styles.inputContainer}>\r\n          <TextInput\r\n            style={styles.input}\r\n            placeholder=\"Masukkan alamat email\"\r\n            value={email}\r\n            onChangeText={(text) => setEmail(text)}\r\n          />\r\n        </View>\r\n      </View>\r\n      <PrimaryButton title=\"Lanjutkan\" onPress={handleFetchData} />\r\n    </View>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,SAAA;AAExC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM;AACf,OAAOC,aAAa;AACpB,SAASC,aAAa,QAAQ,0BAA0B;AACxD,OAAOC,OAAO,MAAM,sCAAsC;AAC1D,OAAOC,YAAY,MAAM,2CAA2C;AAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAErE,OAAO,SAASC,UAAUA,CAAA,EAAG;EAC3B,IAAAC,cAAA,GAAqBR,aAAa,CAAC,CAAC;IAA5BS,QAAQ,GAAAD,cAAA,CAARC,QAAQ;EAChB,IAAAC,SAAA,GAA0BlB,QAAQ,CAAC,EAAE,CAAC;IAAAmB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BG,KAAK,GAAAF,UAAA;IAAEG,QAAQ,GAAAH,UAAA;EACtB,IAAAI,UAAA,GAA8BvB,QAAQ,CAAC,KAAK,CAAC;IAAAwB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAtCE,OAAO,GAAAD,UAAA;IAAEE,UAAU,GAAAF,UAAA;EAE1B,IAAMG,eAAe;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;MAClC,IAAI;QACFH,UAAU,CAAC,IAAI,CAAC;QAChB,IAAMI,QAAQ,SAASzB,KAAK,CAAC0B,IAAI,CAC/B,2DAA2D,EAC3D;UAAEV,KAAK,EAALA;QAAM,CACV,CAAC;QACDW,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEH,QAAQ,CAACI,IAAI,CAAC;QAEpD,MAAMxB,YAAY,CAACyB,OAAO,CAAC,OAAO,EAAEd,KAAK,CAAC;QAE1CJ,QAAQ,CAAC,UAAU,CAAC;MACtB,CAAC,CAAC,OAAOmB,KAAK,EAAE;QACdJ,OAAO,CAACI,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAE9C,CAAC,SAAS;QACRV,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAAA,gBAlBKC,eAAeA,CAAA;MAAA,OAAAC,IAAA,CAAAS,KAAA,OAAAC,SAAA;IAAA;EAAA,GAkBpB;EAED,OACExB,KAAA,CAACb,IAAI;IAACsC,KAAK,EAAEjC,MAAM,CAACkC,SAAU;IAAAC,QAAA,GAC5B7B,IAAA,CAACH,OAAO;MACNiC,OAAO,EAAEjB,OAAQ;MACjBkB,WAAW,EAAE,YAAa;MAC1BC,SAAS,EAAEtC,MAAM,CAACuC;IAAY,CAC/B,CAAC,EACFjC,IAAA,CAACT,KAAK;MACJoC,KAAK,EAAE;QAAEO,KAAK,EAAE,GAAG;QAAEC,MAAM,EAAE;MAAI,CAAE;MACnCC,MAAM,EAAEC,OAAO,+BAA+B;IAAE,CACjD,CAAC,EACFnC,KAAA,CAACb,IAAI;MAACsC,KAAK,EAAEjC,MAAM,CAAC4C,OAAQ;MAAAT,QAAA,GAC1B7B,IAAA,CAACX,IAAI;QAAAwC,QAAA,EACH7B,IAAA,CAACV,IAAI;UAACqC,KAAK,EAAEjC,MAAM,CAAC6C,KAAM;UAAAV,QAAA,EAAC;QAAe,CAAM;MAAC,CAC7C,CAAC,EACP7B,IAAA,CAACX,IAAI;QAAAwC,QAAA,EACH7B,IAAA,CAACV,IAAI;UAACqC,KAAK,EAAEjC,MAAM,CAAC8C,QAAS;UAAAX,QAAA,EAAC;QAE9B,CAAM;MAAC,CACH,CAAC,EACP7B,IAAA,CAACX,IAAI;QAACsC,KAAK,EAAEjC,MAAM,CAAC+C,cAAe;QAAAZ,QAAA,EACjC7B,IAAA,CAACR,SAAS;UACRmC,KAAK,EAAEjC,MAAM,CAACgD,KAAM;UACpBC,WAAW,EAAC,uBAAuB;UACnCC,KAAK,EAAEnC,KAAM;UACboC,YAAY,EAAE,SAAAA,aAACC,IAAI;YAAA,OAAKpC,QAAQ,CAACoC,IAAI,CAAC;UAAA;QAAC,CACxC;MAAC,CACE,CAAC;IAAA,CACH,CAAC,EACP9C,IAAA,CAACL,aAAa;MAAC4C,KAAK,EAAC,WAAW;MAACQ,OAAO,EAAEhC;IAAgB,CAAE,CAAC;EAAA,CACzD,CAAC;AAEX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}